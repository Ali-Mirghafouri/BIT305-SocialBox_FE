(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{2161:function(e,a,s){Promise.resolve().then(s.bind(s,3336))},6725:function(e,a,s){"use strict";s.d(a,{F:function(){return r}});var l=s(994);s(5073);var n=s(2307);let i=(0,l.ZF)({apiKey:"AIzaSyAjzo1G0XOV8_2GfckMDudMkh0PnAjqoDQ",authDomain:"socialbox-50510.firebaseapp.com",databaseURL:"https://socialbox-50510-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"socialbox-50510",storageBucket:"socialbox-50510.appspot.com",messagingSenderId:"672604612765",appId:"1:672604612765:web:31dd8abc27ec9fa67f4c74",measurementId:"G-208R9444L5"}),r=(0,n.N8)(i)},3336:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return SignUp}});var l=s(7437),n=s(2265),i=s(1396),r=s.n(i);s(2596);var t=s(4033);s(9839);var c=s(8529),o=s.n(c),d=s(6725),u=s(2307);let signUp=async(e,a,s,l,n)=>{let i=(0,u.iH)(d.F),r=[];await (0,u.U2)((0,u.iU)(i,"users")).then(e=>{e.exists()?(r=[...e.val()],console.log(e.val()),console.log(r)):console.log("No data available")}).catch(e=>{console.error(e)});let t=r.find(a=>{let{email:s}=a;return s===e});return(console.log(t),t)?(console.log("duplicate email"),!1):(r.push({username:a,email:e,password:s,type:l,wallet:n}),console.log(r),(0,u.t8)((0,u.iH)(d.F,"users/"),r),console.log("user sign up success"),!0)},checkEmail=async e=>{let a=(0,u.iH)(d.F),s=[];await (0,u.U2)((0,u.iU)(a,"users")).then(e=>{e.exists()?(s=[...e.val()],console.log(e.val()),console.log(s)):console.log("No data available")}).catch(e=>{console.error(e)});let l=s.find(a=>{let{email:s}=a;return s===e});return console.log(l),!!l};var wallet_wallet=e=>{let{isOpen:a,onRequestClose:s,inputs:n}=e,i=(0,t.useRouter)(),handleClick=async e=>{let a=await signUp(n.email,n.username,n.password,n.userType,e);a&&("Creator"===n.userType?i.push("/pages/creator"):i.push("/"))};return(0,l.jsx)(o(),{isOpen:a,onRequestClose:s,contentLabel:"Connect your wallet",className:"wallet",overlayClassName:"Overlay",children:(0,l.jsxs)("div",{className:"WalletConnectModal",children:[(0,l.jsxs)("div",{className:"flex_center flex_column",children:[(0,l.jsx)("h2",{children:"Connect your wallet"}),(0,l.jsxs)("p",{className:"text_align",children:["If you don't have a wallet, you can select a provider and create one now.",(0,l.jsx)("a",{href:"#",className:"learn-more",children:"Learn more"})]})]}),(0,l.jsxs)("div",{className:"wallet-list",children:[(0,l.jsxs)("div",{onClick:()=>handleClick("MetaMask"),className:"wallet-item popular",children:[(0,l.jsx)("span",{className:"wallet-name",children:"MetaMask"}),(0,l.jsx)("span",{className:"tag",children:"POPULAR"})]}),(0,l.jsx)("div",{onClick:()=>handleClick("Coinbase"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"Coinbase Wallet"})}),(0,l.jsx)("div",{onClick:()=>handleClick("WalletConnect"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"WalletConnect"})}),(0,l.jsx)("div",{onClick:()=>handleClick("Ledger"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"Ledger"})}),(0,l.jsx)("div",{onClick:()=>handleClick("Phantom"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"Phantom"})}),(0,l.jsxs)("div",{onClick:()=>handleClick("BitKeep"),className:"wallet-item",children:[(0,l.jsx)("span",{className:"wallet-name",children:"BitKeep"}),(0,l.jsx)("span",{className:"tag",children:"BNB CHAIN"})]})]}),(0,l.jsx)("div",{className:"flex_center",children:(0,l.jsx)("button",{className:"view-all ",children:"View All"})})]})})};function SignUp(){let[e,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)({email:"",username:"",userType:"",password:"",confirmPassword:""}),[t,c]=(0,n.useState)({}),validate=()=>{let e={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(e.email="Email is not valid"):e.email="Email is required",s.username.trim()||(e.username="User name is required"),s.userType||(e.userType="User type is required"),s.password?s.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",s.confirmPassword!==s.password&&(e.confirmPassword="Passwords must match"),c(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validate()){if(console.log("Form Submitted",s),await checkEmail(s.email)){let e={};e.email="Email already exists",c(e)}else a(!0)}},handleChange=e=>{let{name:a,value:l}=e.target;i({...s,[a]:l})};return(0,l.jsxs)("div",{className:"full_height flex_center",children:[(0,l.jsxs)("div",{className:"signup_container",children:[(0,l.jsx)("div",{className:"signup_title",children:"Sign Up"}),(0,l.jsx)("div",{className:"signup_label",children:"Email"}),(0,l.jsx)("input",{className:"signup_input signup_m24",placeholder:"xxx@xx.xx",name:"email",value:s.email,onChange:handleChange}),t.email&&(0,l.jsx)("div",{className:"error",children:t.email}),(0,l.jsx)("div",{className:"signup_label",children:"User name"}),(0,l.jsx)("input",{className:"signup_input signup_m24",placeholder:"Your name here",name:"username",value:s.username,onChange:handleChange}),t.username&&(0,l.jsx)("div",{className:"error",children:t.username}),(0,l.jsx)("div",{className:"signup_label",children:"User Type"}),(0,l.jsxs)("select",{className:"signup_input signup_m24",name:"userType",value:s.userType,onChange:handleChange,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Select your user type"}),(0,l.jsx)("option",{value:"Creator",children:"Creator"}),(0,l.jsx)("option",{value:"Consumer",children:"Consumer"})]}),t.userType&&(0,l.jsx)("div",{className:"error",children:t.userType}),(0,l.jsx)("div",{className:"signup_label",children:"Password"}),(0,l.jsx)("input",{className:"signup_input signup_m24",type:"password",placeholder:"*******",name:"password",value:s.password,onChange:handleChange}),t.password&&(0,l.jsx)("div",{className:"error",children:t.password}),(0,l.jsx)("div",{className:"signup_label",children:"Confirm Password"}),(0,l.jsx)("input",{className:"signup_input signup_m24",type:"password",placeholder:"*******",name:"confirmPassword",value:s.confirmPassword,onChange:handleChange}),t.confirmPassword&&(0,l.jsx)("div",{className:"error",children:t.confirmPassword}),(0,l.jsx)("button",{className:"signup_button signup_m18",onClick:handleSubmit,children:"Sign Up"}),(0,l.jsxs)("div",{className:"signup_signin flex_center",children:["Already have an Account?"," ",(0,l.jsx)(r(),{className:"signup_signin_bold",href:"/pages/login",children:"Sign in"})]})]}),(0,l.jsx)(wallet_wallet,{isOpen:e,onRequestClose:()=>a(!1),inputs:s})]})}},9839:function(){},2596:function(){}},function(e){e.O(0,[481,326,568,529,971,472,744],function(){return e(e.s=2161)}),_N_E=e.O()}]);