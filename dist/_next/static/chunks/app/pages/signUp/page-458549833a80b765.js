(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[168],{2161:function(e,s,a){Promise.resolve().then(a.bind(a,3336))},6725:function(e,s,a){"use strict";a.d(s,{F:function(){return t}});var l=a(994),n=a(2307),i=a(8153);let r=(0,l.ZF)({apiKey:"AIzaSyAjzo1G0XOV8_2GfckMDudMkh0PnAjqoDQ",authDomain:"socialbox-50510.firebaseapp.com",databaseURL:"https://socialbox-50510-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"socialbox-50510",storageBucket:"socialbox-50510.appspot.com",messagingSenderId:"672604612765",appId:"1:672604612765:web:31dd8abc27ec9fa67f4c74",measurementId:"G-208R9444L5"}),t=(0,n.N8)(r);(0,i.v0)()},3336:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return SignUp}});var l=a(7437),n=a(2265),i=a(1396),r=a.n(i);a(2596);var t=a(4033);a(9839);var c=a(8529),o=a.n(c),d=a(8153),u=a(6725),m=a(2307);let signUp=async(e,s,a,l,n)=>{let i=(0,m.iH)(u.F);(0,d.v0)();let r=[];await (0,m.U2)((0,m.iU)(i,"users")).then(e=>{e.exists()?(r=[...e.val()],console.log(e.val()),console.log(r)):console.log("No data available")}).catch(e=>{console.error(e)});let t=r.find(s=>{let{email:a}=s;return a===e});return(console.log(t),t)?(console.log("duplicate email"),!1):(localStorage.setItem("currentUser",JSON.stringify({username:s,ID:r.length,email:e,password:a,type:l,wallet:n,profilePic:"",assets:""})),r.push({ID:r.length,username:s,email:e,password:a,type:l,wallet:n,profilePic:"",assets:""}),console.log(r),await (0,m.t8)((0,m.iH)(u.F,"users/"),r),console.log("user sign up success"),!0)},checkEmail=async e=>{let s=(0,m.iH)(u.F),a=[];await (0,m.U2)((0,m.iU)(s,"users")).then(e=>{e.exists()?(a=[...e.val()],console.log(e.val()),console.log(a)):console.log("No data available")}).catch(e=>{console.error(e)});let l=a.find(s=>{let{email:a}=s;return a===e});return console.log(l),!!l&&l};var wallet_wallet=e=>{let{isOpen:s,onRequestClose:a,inputs:n}=e,i=(0,t.useRouter)(),handleClick=async e=>{let s=await signUp(n.email,n.username,n.password,n.userType,e);s&&("Creator"===n.userType?i.push("/pages/creator"):i.push("/"))};return(0,l.jsx)(o(),{isOpen:s,onRequestClose:a,contentLabel:"Connect your wallet",className:"wallet",overlayClassName:"Overlay",children:(0,l.jsxs)("div",{className:"WalletConnectModal",children:[(0,l.jsxs)("div",{className:"flex_center flex_column",children:[(0,l.jsx)("h2",{children:"Connect your wallet"}),(0,l.jsxs)("p",{className:"text_align",children:["If you don't have a wallet, you can select a provider and create one now.",(0,l.jsx)("a",{href:"#",className:"learn-more",children:"Learn more"})]})]}),(0,l.jsxs)("div",{className:"wallet-list",children:[(0,l.jsxs)("div",{onClick:()=>handleClick("MetaMask"),className:"wallet-item popular",children:[(0,l.jsx)("span",{className:"wallet-name",children:"MetaMask"}),(0,l.jsx)("span",{className:"tag",children:"POPULAR"})]}),(0,l.jsx)("div",{onClick:()=>handleClick("Coinbase"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"Coinbase Wallet"})}),(0,l.jsx)("div",{onClick:()=>handleClick("WalletConnect"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"WalletConnect"})}),(0,l.jsx)("div",{onClick:()=>handleClick("Ledger"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"Ledger"})}),(0,l.jsx)("div",{onClick:()=>handleClick("Phantom"),className:"wallet-item",children:(0,l.jsx)("span",{className:"wallet-name",children:"Phantom"})}),(0,l.jsxs)("div",{onClick:()=>handleClick("BitKeep"),className:"wallet-item",children:[(0,l.jsx)("span",{className:"wallet-name",children:"BitKeep"}),(0,l.jsx)("span",{className:"tag",children:"BNB CHAIN"})]})]}),(0,l.jsx)("div",{className:"flex_center",children:(0,l.jsx)("button",{className:"view-all ",children:"View All"})})]})})};function SignUp(){let[e,s]=(0,n.useState)(!1),[a,i]=(0,n.useState)({email:"",username:"",userType:"",password:"",confirmPassword:""}),[t,c]=(0,n.useState)({}),validate=()=>{let e={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(e.email="Email is not valid"):e.email="Email is required",a.username.trim()||(e.username="User name is required"),a.userType||(e.userType="User type is required"),a.password?a.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",a.confirmPassword!==a.password&&(e.confirmPassword="Passwords must match"),c(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validate()){if(console.log("Form Submitted",a),await checkEmail(a.email)){let e={};e.email="Email already exists",c(e)}else s(!0)}},handleChange=e=>{let{name:s,value:l}=e.target;i({...a,[s]:l})};return(0,l.jsxs)("div",{className:"full_height flex_center",children:[(0,l.jsxs)("div",{className:"signup_container",children:[(0,l.jsx)("div",{className:"signup_title",children:"Sign Up"}),(0,l.jsx)("div",{className:"signup_label",children:"Email"}),(0,l.jsx)("input",{className:"signup_input signup_m24",placeholder:"xxx@xx.xx",name:"email",value:a.email,onChange:handleChange}),t.email&&(0,l.jsx)("div",{className:"error",children:t.email}),(0,l.jsx)("div",{className:"signup_label",children:"User name"}),(0,l.jsx)("input",{className:"signup_input signup_m24",placeholder:"Your name here",name:"username",value:a.username,onChange:handleChange}),t.username&&(0,l.jsx)("div",{className:"error",children:t.username}),(0,l.jsx)("div",{className:"signup_label",children:"User Type"}),(0,l.jsxs)("select",{className:"signup_input signup_m24",name:"userType",value:a.userType,onChange:handleChange,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Select your user type"}),(0,l.jsx)("option",{value:"Creator",children:"Creator"}),(0,l.jsx)("option",{value:"Consumer",children:"Consumer"})]}),t.userType&&(0,l.jsx)("div",{className:"error",children:t.userType}),(0,l.jsx)("div",{className:"signup_label",children:"Password"}),(0,l.jsx)("input",{className:"signup_input signup_m24",type:"password",placeholder:"*******",name:"password",value:a.password,onChange:handleChange}),t.password&&(0,l.jsx)("div",{className:"error",children:t.password}),(0,l.jsx)("div",{className:"signup_label",children:"Confirm Password"}),(0,l.jsx)("input",{className:"signup_input signup_m24",type:"password",placeholder:"*******",name:"confirmPassword",value:a.confirmPassword,onChange:handleChange}),t.confirmPassword&&(0,l.jsx)("div",{className:"error",children:t.confirmPassword}),(0,l.jsx)("button",{className:"signup_button signup_m18",onClick:handleSubmit,children:"Sign Up"}),(0,l.jsxs)("div",{className:"signup_signin flex_center",children:["Already have an Account?"," ",(0,l.jsx)(r(),{className:"signup_signin_bold",href:"/pages/login",children:"Sign in"})]})]}),(0,l.jsx)(wallet_wallet,{isOpen:e,onRequestClose:()=>s(!1),inputs:a})]})}},9839:function(){},2596:function(){}},function(e){e.O(0,[481,220,326,96,827,971,472,744],function(){return e(e.s=2161)}),_N_E=e.O()}]);