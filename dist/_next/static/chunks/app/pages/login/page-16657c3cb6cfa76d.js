(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{5279:function(e,s,a){Promise.resolve().then(a.bind(a,9759))},6725:function(e,s,a){"use strict";a.d(s,{F:function(){return o}});var n=a(994),t=a(2307),l=a(8153);let r=(0,n.ZF)({apiKey:"AIzaSyAjzo1G0XOV8_2GfckMDudMkh0PnAjqoDQ",authDomain:"socialbox-50510.firebaseapp.com",databaseURL:"https://socialbox-50510-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"socialbox-50510",storageBucket:"socialbox-50510.appspot.com",messagingSenderId:"672604612765",appId:"1:672604612765:web:31dd8abc27ec9fa67f4c74",measurementId:"G-208R9444L5"}),o=(0,t.N8)(r);(0,l.v0)()},5681:function(e,s,a){"use strict";a.d(s,{l:function(){return setCurrentUser},t:function(){return getCurrentUser}});let setCurrentUser=async e=>(localStorage.setItem("currentUser",JSON.stringify(e)),console.log("current user set"),!0),getCurrentUser=async()=>JSON.parse(localStorage.getItem("currentUser"))},9759:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return page_LogIn}});var n=a(7437),t=a(1396),l=a.n(t);a(5610);var r=a(2265),o=a(4033),i=a(6725),c=a(2307);let checkEmail=async e=>{let s=(0,c.iH)(i.F),a=[];await (0,c.U2)((0,c.iU)(s,"users")).then(e=>{e.exists()?(a=[...e.val()],console.log(e.val()),console.log(a)):console.log("No data available")}).catch(e=>{console.error(e)});let n=a.find(s=>{let{email:a}=s;return a===e});return console.log(n),!!n&&n};var u=a(5681);function page_LogIn(){let e=(0,o.useRouter)(),[s,a]=(0,r.useState)({email:"",password:""}),[t,i]=(0,r.useState)(""),validateForm=()=>s.email.trim()?s.password.length<6?(i("Password must be at least 8 characters long"),!1):(i(""),!0):(i("email is required"),!1),handleSubmit=async a=>{if(a.preventDefault(),validateForm()){let a=await checkEmail(s.email);a?(console.log(a),a.password===s.password?(await (0,u.l)(a),e.push("/pages/creator")):i("password is wrong")):i("Email does not exist")}};return(0,n.jsx)("div",{className:"full_height flex_center",children:(0,n.jsxs)("div",{className:"login_container",children:[(0,n.jsx)("div",{className:"login_title",children:"Log in"}),(0,n.jsxs)("form",{onSubmit:handleSubmit,children:[(0,n.jsx)("div",{className:"login_label",children:"Email"}),(0,n.jsx)("input",{className:"login_input_username",value:s.email,onChange:e=>a({...s,email:e.target.value}),placeholder:"Email"}),(0,n.jsx)("div",{className:"login_label",children:"Password"}),(0,n.jsx)("input",{type:"password",onChange:e=>a({...s,password:e.target.value}),value:s.password,className:"login_input_password",placeholder:"*******"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("input",{type:"checkbox"}),(0,n.jsx)("div",{className:"login_remember",children:"Remember me"}),(0,n.jsx)("div",{className:"flex_grow"}),(0,n.jsx)("div",{className:"login_forgot",children:"Forgot Password ?"})]}),t&&(0,n.jsx)("div",{className:"login_errorMessage",children:t}),(0,n.jsx)("button",{className:"login_button",children:"Log In"})]}),(0,n.jsxs)("div",{className:"login_signup flex_center",children:["Donâ€™t have an Account ?"," ",(0,n.jsx)(l(),{href:"/pages/signUp",className:"login_signup_bold",children:"Sign up"})," "]})]})})}},5610:function(){},1396:function(e,s,a){e.exports=a(8326)}},function(e){e.O(0,[481,220,326,96,971,472,744],function(){return e(e.s=5279)}),_N_E=e.O()}]);