(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{5279:function(e,a,s){Promise.resolve().then(s.bind(s,9759))},6725:function(e,a,s){"use strict";s.d(a,{F:function(){return r}});var l=s(994);s(5073);var n=s(2307);let t=(0,l.ZF)({apiKey:"AIzaSyAjzo1G0XOV8_2GfckMDudMkh0PnAjqoDQ",authDomain:"socialbox-50510.firebaseapp.com",databaseURL:"https://socialbox-50510-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"socialbox-50510",storageBucket:"socialbox-50510.appspot.com",messagingSenderId:"672604612765",appId:"1:672604612765:web:31dd8abc27ec9fa67f4c74",measurementId:"G-208R9444L5"}),r=(0,n.N8)(t)},5681:function(e,a,s){"use strict";s.d(a,{l:function(){return setCurrentUser},t:function(){return getCurrentUser}});var l=s(6725),n=s(2307);let setCurrentUser=async e=>((0,n.t8)((0,n.iH)(l.F,"currentUser"),{username:e.username,email:e.email,password:e.password,type:e.type,wallet:e.wallet}).catch(e=>(console.error(e),!1)),console.log("current user set"),!0),getCurrentUser=async()=>{let e;let a=(0,n.iH)(l.F);return await (0,n.U2)((0,n.iU)(a,"currentUser")).then(a=>{a.exists()?(console.log(a.val()),e=a.val()):console.log("No data available")}).catch(e=>{console.error(e)}),e}},9759:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return page_LogIn}});var l=s(7437),n=s(1396),t=s.n(n);s(5610);var r=s(2265),o=s(4033),i=s(6725),c=s(2307);let checkEmail=async e=>{let a=(0,c.iH)(i.F),s=[];await (0,c.U2)((0,c.iU)(a,"users")).then(e=>{e.exists()?(s=[...e.val()],console.log(e.val()),console.log(s)):console.log("No data available")}).catch(e=>{console.error(e)});let l=s.find(a=>{let{email:s}=a;return s===e});return console.log(l),!!l&&l};var u=s(5681);function page_LogIn(){let e=(0,o.useRouter)(),[a,s]=(0,r.useState)({email:"",password:""}),[n,i]=(0,r.useState)(""),validateForm=()=>a.email.trim()?a.password.length<6?(i("Password must be at least 8 characters long"),!1):(i(""),!0):(i("email is required"),!1),handleSubmit=async s=>{if(s.preventDefault(),validateForm()){let s=await checkEmail(a.email);s?(console.log(s),s.password===a.password?(await (0,u.l)(s),e.push("/pages/creator")):i("password is wrong")):i("Email does not exist")}};return(0,l.jsx)("div",{className:"full_height flex_center",children:(0,l.jsxs)("div",{className:"login_container",children:[(0,l.jsx)("div",{className:"login_title",children:"Log in"}),(0,l.jsxs)("form",{onSubmit:handleSubmit,children:[(0,l.jsx)("div",{className:"login_label",children:"Email"}),(0,l.jsx)("input",{className:"login_input_username",value:a.email,onChange:e=>s({...a,email:e.target.value}),placeholder:"Email"}),(0,l.jsx)("div",{className:"login_label",children:"Password"}),(0,l.jsx)("input",{type:"password",onChange:e=>s({...a,password:e.target.value}),value:a.password,className:"login_input_password",placeholder:"*******"}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("input",{type:"checkbox"}),(0,l.jsx)("div",{className:"login_remember",children:"Remember me"}),(0,l.jsx)("div",{className:"flex_grow"}),(0,l.jsx)("div",{className:"login_forgot",children:"Forgot Password ?"})]}),n&&(0,l.jsx)("div",{className:"login_errorMessage",children:n}),(0,l.jsx)("button",{className:"login_button",children:"Log In"})]}),(0,l.jsxs)("div",{className:"login_signup flex_center",children:["Donâ€™t have an Account ?"," ",(0,l.jsx)(t(),{href:"/pages/signUp",className:"login_signup_bold",children:"Sign up"})," "]})]})})}},5610:function(){}},function(e){e.O(0,[481,326,568,971,472,744],function(){return e(e.s=5279)}),_N_E=e.O()}]);